<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>é›„è¿‡æ²³æ¸¸æˆ</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: url('a.png') no-repeat center center fixed;
        background-size: cover;
        font-family: Arial, sans-serif;
        text-align: center;
        color: black;
    }
    #score {
        font-size: 50px;
        margin: 20px;
    }
    #hearts {
        font-size: 30px;
        margin: 10px;
    }
    #restartBtn {
        font-size: 24px;
        padding: 10px 20px;
        display: none;
        cursor: pointer;
        margin-bottom: 20px;
    }
    #bridges {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.0000004cm; /* æå°é—´è· */
        margin: 20px 0;
    }
    .bridge-container {
        position: relative;
        width: 300px;
    }
    .bridge {
        width: 100%;
    }
    .card {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 50px;
        background-color: white;
        border: 2px solid black;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        cursor: pointer;
        user-select: none;
    }
    #question {
        margin-top: 20px;
        font-size: 24px;
    }
    #message {
        margin-top: 20px;
        font-size: 28px;
        color: red;
    }
</style>
</head>
<body>

<div id="score">åˆ†æ•°: 0</div>
<div id="hearts">â™¥ï¸â™¥ï¸â™¥ï¸</div>
<button id="restartBtn" onclick="restartGame()">å†æ¬¡æŒ‘æˆ˜</button>

<div id="bridges">
    <div class="bridge-container">
        <img src="b.png" class="bridge" id="bridge1">
        <div class="card" onclick="selectAnswer('çš„', 0)">çš„</div>
    </div>
    <div class="bridge-container">
        <img src="b.png" class="bridge" id="bridge2">
        <div class="card" onclick="selectAnswer('åœ°', 1)">åœ°</div>
    </div>
    <div class="bridge-container">
        <img src="b.png" class="bridge" id="bridge3">
        <div class="card" onclick="selectAnswer('å¾—', 2)">å¾—</div>
    </div>
</div>

<div id="question"></div>
<div id="message"></div>

<script>
const questions = [
    { sentence: "ä»–è·‘æ­¥è·‘___éå¸¸å¿«ã€‚", answer: "å¾—" },
    { sentence: "å¥¹å¼€å¿ƒ___ç¬‘äº†èµ·æ¥ã€‚", answer: "åœ°" },
    { sentence: "è¿™æ˜¯æˆ‘æœ€å–œæ¬¢___ä¹¦ç±ã€‚", answer: "çš„" },
    { sentence: "å°æ˜ä»”ç»†___å¬è®²ï¼Œå–å¾—äº†å¥½æˆç»©ã€‚", answer: "åœ°" },
    { sentence: "å¤è€___åŸå¸‚å¸å¼•äº†å¾ˆå¤šæ¸¸å®¢ã€‚", answer: "çš„" },
    { sentence: "è€å¸ˆä¸¥å‰___æ‰¹è¯„äº†é”™è¯¯è¡Œä¸ºã€‚", answer: "åœ°" },
    { sentence: "æ¼‚äº®___èŠ±æœµè®©äººå¿ƒæƒ…æ„‰å¿«ã€‚", answer: "çš„" },
    { sentence: "å°å°___é±¼å„¿æ°´ä¸­æ¸¸æ³³ã€‚", answer: "çš„" },
    { sentence: "æ¸…æ¸…___æ²³æ°´å‘ä¸œæµã€‚", answer: "çš„" },
    { sentence: "å­¦ç”Ÿåº”è¯¥ä¸“å¿ƒ___ä¸Šè¯¾ä¸å¤§æ„ã€‚", answer: "åœ°" },
    { sentence: "æ˜¨å¤©ï¼Œæˆ‘ç¡___å¤ªæ™šï¼Œæ‰€ä»¥ä»Šæ—©ç¡è¿‡å¤´äº†ã€‚", answer: "å¾—" },
    { sentence: "æœæ ‘æ¸æ¸___ç»¿äº†ã€‚", answer: "åœ°" },
    { sentence: "å°æ˜åœ¨å„¿ç«¥å…¬å›­ç©___å¾ˆå¼€å¿ƒã€‚", answer: "å¾—" },
    { sentence: "å‘æ—¥è‘µåœ¨å¾®é£ä¸­å‘æˆ‘ä»¬è½»è½»___ç‚¹å¤´å¾®ç¬‘ã€‚", answer: "åœ°" }
];

let currentQuestionIndex = 0;
let score = 0;
let hearts = 3;
let gameOver = false;

// æ˜¾ç¤ºé¢˜ç›®
function showQuestion() {
    if (currentQuestionIndex >= questions.length || score >= 100) {
        document.getElementById("message").textContent = "æ­å–œä½ æˆåŠŸè¿‡æ²³ğŸ‰";
        document.getElementById("restartBtn").style.display = "inline-block";
        gameOver = true;
        return;
    }
    document.getElementById("question").textContent = questions[currentQuestionIndex].sentence;
}

// ç©å®¶é€‰æ‹©ç­”æ¡ˆ
function selectAnswer(selected, cardIndex) {
    if (gameOver) return;
    const correct = questions[currentQuestionIndex].answer;
    const bridgeId = 'bridge' + (cardIndex + 1);
    if (selected === correct) {
        document.getElementsByClassName('card')[cardIndex].style.backgroundColor = 'green';
        score += 10;
        document.getElementById("score").textContent = "åˆ†æ•°: " + score;
        currentQuestionIndex++;
        setTimeout(() => {
            resetCards();
            showQuestion();
            document.getElementById("message").textContent = "";
        }, 500);
    } else {
        document.getElementsByClassName('card')[cardIndex].style.backgroundColor = 'red';
        document.getElementById(bridgeId).src = 'c.png'; // æ¡¥å¡Œ
        hearts--;
        updateHearts();
        document.getElementById("message").textContent = "é€‰é”™äº†ï¼æ¡¥å¡Œäº†ï¼";
        
        if (hearts <= 0) {
            document.getElementById("message").textContent = "æ¸¸æˆç»“æŸï¼";
            document.getElementById("restartBtn").style.display = "inline-block";
            gameOver = true;
            return;
        }

        // æ¡¥å¡Œ 2ç§’åæ¢å¤
        setTimeout(() => {
            document.getElementById(bridgeId).src = 'b.png';
            resetCards();
            document.getElementById("message").textContent = "";
        }, 2000);
    }
}

// é‡ç½®å¡ç‰‡é¢œè‰²
function resetCards() {
    const cards = document.getElementsByClassName('card');
    for (let card of cards) {
        card.style.backgroundColor = 'white';
    }
}

// æ›´æ–°çº¢å¿ƒæ˜¾ç¤º
function updateHearts() {
    let heartStr = '';
    for (let i = 0; i < hearts; i++) heartStr += 'â™¥ï¸';
    document.getElementById("hearts").textContent = heartStr;
}

// é‡æ–°æŒ‘æˆ˜
function restartGame() {
    score = 0;
    hearts = 3;
    currentQuestionIndex = 0;
    gameOver = false;
    document.getElementById("score").textContent = "åˆ†æ•°: " + score;
    document.getElementById("message").textContent = "";
    document.getElementById("restartBtn").style.display = "none";
    updateHearts();
    resetCards();
    // å°†æ‰€æœ‰æ¡¥æ¢å¤æ­£å¸¸çŠ¶æ€
    for (let i = 1; i <= 3; i++) {
        document.getElementById('bridge' + i).src = 'b.png';
    }
    showQuestion();
}

// åˆå§‹åŒ–
updateHearts();
showQuestion();
</script>

</body>
</html>
